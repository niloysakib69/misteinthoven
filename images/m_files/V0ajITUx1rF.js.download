if (self.CavalryLogger) { CavalryLogger.start_js(["pXtL2NC"]); }

__d("MLinkLoggedOut",["DOM","JavelinHistory","MHistory","URI"],(function(a,b,c,d,e,f,g){var h=!1;function a(a){if(h)return;h=!0;var b=new(c("URI"))(c("MHistory").getPath()),d=b.getQueryData();d[a.impression_param_name]&&c("JavelinHistory").replace(b.removeQueryData(a.impression_param_name).toString());c("DOM").listen(document.documentElement,"click",null,function(b){b=b.getNode("tag:a");b=(b==null?void 0:b.getAttribute("href"))||null;var d=new(c("URI"))(b);d=d.getProtocol();if(b!==null&&(d===""||d==="http"||d==="https")&&b.indexOf("#")!==0){d=new(c("URI"))(c("MHistory").getPath());d=d.addQueryData(a.impression_param_name,a.impression_id);c("JavelinHistory").replace(d.toString())}return})}g.setupListener=a}),98);
__d("MUFICommentViewportTracking",["MLegacyDataStore","MUFIConfig","MViewportTracking","MarauderLogger"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.getDataFromConfig=function(a){this.vpvLoggingEnabled=a.vpvLoggingEnabled};e.getStoryID=function(a){return d("MLegacyDataStore").get(a).token};e.getDataToLog=function(a){return this.getStoryID(a)};e.sendDataToLog=function(a){this.vpvLoggingEnabled&&d("MarauderLogger").log("comment_vpv",void 0,null,"comment",a)};e.getTimeout=function(){return c("MUFIConfig").vpvLoggingTimeout};return b}(c("MViewportTracking"));g["default"]=a}),98);
__d("CommentsTimeSpentTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:CommentsTimeSpentLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:CommentsTimeSpentLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:CommentsTimeSpentLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEndTime=function(a){this.$1.end_time=a;return this};c.setOrderingMode=function(a){this.$1.ordering_mode=a;return this};c.setPostFbid=function(a){this.$1.post_fbid=a;return this};c.setStartTime=function(a){this.$1.start_time=a;return this};c.setTimeSpentID=function(a){this.$1.time_spent_id=a;return this};c.setViewerHasInteracted=function(a){this.$1.viewer_has_interacted=a;return this};return a}();c={end_time:!0,ordering_mode:!0,post_fbid:!0,start_time:!0,time_spent_id:!0,viewer_has_interacted:!0};e.exports=a}),null);
__d("MUFIStaticCommentViewportTracking",["CommentsTimeSpentTypedLogger","MUFICommentViewportTracking","Stratcom","pageID"],(function(a,b,c,d,e,f,g){"use strict";var h={},i=null;a=function(a){babelHelpers.inheritsLoose(b,a);b.trackStatically=function(a,d,e,f,g){var j=g+"_"+f,k=h[j];k||(k=new b(),h[j]=k,k.init({is_loose:!1,relaxed_min_size:!0,vpv_debug:!1,triggerOverride:[["scroll",null],["touchmove","ufi-overlay"]],vpvLoggingEnabled:d,timeTrackingEnabled:e,orderingMode:f,targetFBID:g}));i||(i=c("Stratcom").listen("m:page:unload",null,b.resetAll));k.addComments(a);k.fireEvent()};b.resetAll=function(){i&&i.remove(),i=null,h={}};function b(){var b;b=a.call(this)||this;b.resetTimeSpentInterval();b.comments=[];return b}var d=b.prototype;d.addComments=function(a){this.comments.push.apply(this.comments,a)};d.getDataFromConfig=function(b){a.prototype.getDataFromConfig.call(this,b),this.orderingMode=b.orderingMode,this.targetFBID=b.targetFBID};d.getAllStories=function(){return this.comments};d.recordVPVDurations=function(a,b){this.recordVPVDurationsInternal(a,b),(b||!a.length)&&(this.timeSpentIntervalStart<this.timeSpentIntervalEnd&&new(c("CommentsTimeSpentTypedLogger"))().setOrderingMode(this.orderingMode).setPostFbid(this.targetFBID).setStartTime(this.timeSpentIntervalStart).setEndTime(this.timeSpentIntervalEnd).setTimeSpentID(c("pageID")).log(),this.resetTimeSpentInterval())};d.sendTimetrackingDataToLog=function(a){var b=Math.round(a.vpvd_start_timestamp);b<this.timeSpentIntervalStart&&(this.timeSpentIntervalStart=b);b=b+Math.round(a.vpvd_time_delta/1e3);b>this.timeSpentIntervalEnd&&(this.timeSpentIntervalEnd=b)};d.resetTimeSpentInterval=function(){this.timeSpentIntervalStart=Number.MAX_VALUE,this.timeSpentIntervalEnd=0};return b}(c("MUFICommentViewportTracking"));g["default"]=a}),98);